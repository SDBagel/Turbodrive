<div>
  <app-navbar></app-navbar>
  <section class="page">
    <div class="container-full d-flex">
      <div class="sidebar d-flex">
        <img src="../../assets/img/Banner1.png" alt="Plant">
        <div class="text">
          <div class="card" *ngFor="let course of courses">
            <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M207.8,28H48.2A10.19,10.19,0,0,0,38,38.2V217.8A10.19,10.19,0,0,0,48.2,228H207.8A10.19,10.19,0,0,0,218,217.8V38.2A10.19,10.19,0,0,0,207.8,28ZM193,195.29a7.71,7.71,0,0,1-7.71,7.71H70.71A7.71,7.71,0,0,1,63,195.29V60.71A7.71,7.71,0,0,1,70.71,53H98V64.07a7.5,7.5,0,0,0,7.5,7.5h45a7.5,7.5,0,0,0,7.5-7.5V53h27.29A7.71,7.71,0,0,1,193,60.71Z"/><path d="M147.86,140.48a30,30,0,1,0-39.72,0C93.25,148.63,83,165.65,83,185.35h90C173,165.65,162.75,148.63,147.86,140.48Z"/></svg></span>
            <div class="text">
              <b>{{course.name}}</b>
              <p class="text-secondary description">Created on {{course.creationTime | date}}</p>
            </div>
          </div>
          <div class="card text-center" *ngIf="!this.courses">
            <p>No classes!</p>
          </div>
        </div>
      </div>
      <div id="assignments">
        <section class="assignment-group" *ngFor="let course of courses">
          <p class="title-sm">{{course.name}}</p>
          <div class="scroll-group">
            <ng-container *ngFor="let update of courseData[course.id]?.announcements">
              <div class="card" *ngIf="!courseData[course.id]?.read?.includes(update.id)">
                <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><rect x="68" y="68" width="120" height="40" rx="10" transform="translate(40 216) rotate(-90)"/><rect x="108" y="188" width="40" height="40" rx="10" transform="translate(-80 336) rotate(-90)"/></svg></span>
                <div class="text">
                  <div class="row">
                    <span>Announcement</span>
                    <span>{{update.creationTime | date}}</span>
                  </div>
                  <div class="actions">
                    <button class="action" title="Copy Text">c</button>
                    <button class="action" title="Add to To Do">t</button>
                    <button class="action" title="Mark Read" (click)="markAsRead(course.id, update.id)">r</button>
                  </div>
                  <p class="text-secondary description">{{update.text}}</p>
                  <div class="materials">
                    <div class="card" *ngFor="let material of update.materials">
                      <a *ngIf="material.youtubeVideo" title="{{material.youtubeVideo.title}}" href="{{material.youtubeVideo.alternateLink}}" target="_blank">
                        <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M225.25,28.07l-74.81,20a2.19,2.19,0,0,0-1,3.67L161,63.34,90.48,133.86a4.5,4.5,0,0,0,0,6.37l25.29,25.29a4.5,4.5,0,0,0,6.37,0L192.67,95l11.55,11.55a2.19,2.19,0,0,0,3.67-1l20.05-74.8A2.2,2.2,0,0,0,225.25,28.07Z"/><path d="M178,138v58a2,2,0,0,1-2,2H60a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h58V48H38A10,10,0,0,0,28,58V218a10,10,0,0,0,10,10H198a10,10,0,0,0,10-10V138Z"/></svg></span>
                        <p>{{material.youtubeVideo.title}}</p>
                      </a>
                      <a *ngIf="material.driveFile" title="{{material.driveFile.driveFile.title}}" href="{{material.driveFile.driveFile.alternateLink}}" target="_blank">
                        <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M225.25,28.07l-74.81,20a2.19,2.19,0,0,0-1,3.67L161,63.34,90.48,133.86a4.5,4.5,0,0,0,0,6.37l25.29,25.29a4.5,4.5,0,0,0,6.37,0L192.67,95l11.55,11.55a2.19,2.19,0,0,0,3.67-1l20.05-74.8A2.2,2.2,0,0,0,225.25,28.07Z"/><path d="M178,138v58a2,2,0,0,1-2,2H60a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h58V48H38A10,10,0,0,0,28,58V218a10,10,0,0,0,10,10H198a10,10,0,0,0,10-10V138Z"/></svg></span>
                        <p>{{material.driveFile.driveFile.title}}</p>
                      </a>
                      <a *ngIf="material.link" title="{{material.link.title}}" href="{{material.link.url}}" target="_blank">
                        <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M225.25,28.07l-74.81,20a2.19,2.19,0,0,0-1,3.67L161,63.34,90.48,133.86a4.5,4.5,0,0,0,0,6.37l25.29,25.29a4.5,4.5,0,0,0,6.37,0L192.67,95l11.55,11.55a2.19,2.19,0,0,0,3.67-1l20.05-74.8A2.2,2.2,0,0,0,225.25,28.07Z"/><path d="M178,138v58a2,2,0,0,1-2,2H60a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h58V48H38A10,10,0,0,0,28,58V218a10,10,0,0,0,10,10H198a10,10,0,0,0,10-10V138Z"/></svg></span>
                        <p>{{material.link.title}}</p>
                      </a>
                      <a *ngIf="material.form" title="{{material.form.title}}" href="{{material.form.formUrl}}" target="_blank">
                        <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M225.25,28.07l-74.81,20a2.19,2.19,0,0,0-1,3.67L161,63.34,90.48,133.86a4.5,4.5,0,0,0,0,6.37l25.29,25.29a4.5,4.5,0,0,0,6.37,0L192.67,95l11.55,11.55a2.19,2.19,0,0,0,3.67-1l20.05-74.8A2.2,2.2,0,0,0,225.25,28.07Z"/><path d="M178,138v58a2,2,0,0,1-2,2H60a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h58V48H38A10,10,0,0,0,28,58V218a10,10,0,0,0,10,10H198a10,10,0,0,0,10-10V138Z"/></svg></span>
                        <p>{{material.form.title}}</p>
                      </a>
                    </div>
                  </div>
                </div>
              </div>
            </ng-container>
            <div class="card" *ngIf="courseData[course.id]?.announcements.length > 2">
              <div class="text">
                <div class="row">
                  <span>More Unread Announcements</span>
                </div>
                <p class="text-secondary description text-left">There are more unread announcements.</p>
              </div>
            </div>
            <div class="card" *ngFor="let work of courseData[course.id]?.assignments.slice(0, 3)">
              <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M207.8,28H48.2A10.19,10.19,0,0,0,38,38.2V217.8A10.19,10.19,0,0,0,48.2,228H207.8A10.19,10.19,0,0,0,218,217.8V38.2A10.19,10.19,0,0,0,207.8,28ZM193,195.29a7.71,7.71,0,0,1-7.71,7.71H70.71A7.71,7.71,0,0,1,63,195.29V60.71A7.71,7.71,0,0,1,70.71,53H98V64.07a7.5,7.5,0,0,0,7.5,7.5h45a7.5,7.5,0,0,0,7.5-7.5V53h27.29A7.71,7.71,0,0,1,193,60.71Z"/><rect x="98.76" y="104.74" width="25" height="66.53" rx="10" transform="translate(-26.74 249.26) rotate(-90)"/><rect x="115.5" y="50.5" width="25" height="100" rx="10" transform="translate(27.5 228.5) rotate(-90)"/><rect x="106.28" y="134.72" width="25" height="81.57" rx="10" transform="translate(-56.72 294.28) rotate(-90)"/></svg></span>
              <div class="text">
                <div class="row">
                  <span>{{work.title}}</span>
                </div>
                <div class="actions">
                  <button class="action" title="Dismiss for 24hr">h</button>
                  <button class="action" title="Add to To Do">t</button>
                  <button class="action" title="Submit">s</button>
                </div>
                <span class="title-caption">{{work.dueDate | dueDateTime: work.dueTime | date: "E L/d h:mm a"}}</span>
                <p class="text-secondary description">{{work.description}}</p>
                <div class="materials">
                  <div class="card" *ngFor="let material of work.materials">
                    <a *ngIf="material.youtubeVideo" title="{{material.youtubeVideo.title}}" href="{{material.youtubeVideo.alternateLink}}" target="_blank">
                      <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M225.25,28.07l-74.81,20a2.19,2.19,0,0,0-1,3.67L161,63.34,90.48,133.86a4.5,4.5,0,0,0,0,6.37l25.29,25.29a4.5,4.5,0,0,0,6.37,0L192.67,95l11.55,11.55a2.19,2.19,0,0,0,3.67-1l20.05-74.8A2.2,2.2,0,0,0,225.25,28.07Z"/><path d="M178,138v58a2,2,0,0,1-2,2H60a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h58V48H38A10,10,0,0,0,28,58V218a10,10,0,0,0,10,10H198a10,10,0,0,0,10-10V138Z"/></svg></span>
                      <p>{{material.youtubeVideo.title}}</p>
                    </a>
                    <a *ngIf="material.driveFile" title="{{material.driveFile.driveFile.title}}" href="{{material.driveFile.driveFile.alternateLink}}" target="_blank">
                      <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M225.25,28.07l-74.81,20a2.19,2.19,0,0,0-1,3.67L161,63.34,90.48,133.86a4.5,4.5,0,0,0,0,6.37l25.29,25.29a4.5,4.5,0,0,0,6.37,0L192.67,95l11.55,11.55a2.19,2.19,0,0,0,3.67-1l20.05-74.8A2.2,2.2,0,0,0,225.25,28.07Z"/><path d="M178,138v58a2,2,0,0,1-2,2H60a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h58V48H38A10,10,0,0,0,28,58V218a10,10,0,0,0,10,10H198a10,10,0,0,0,10-10V138Z"/></svg></span>
                      <p>{{material.driveFile.driveFile.title}}</p>
                    </a>
                    <a *ngIf="material.link" title="{{material.link.title}}" href="{{material.link.url}}" target="_blank">
                      <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M225.25,28.07l-74.81,20a2.19,2.19,0,0,0-1,3.67L161,63.34,90.48,133.86a4.5,4.5,0,0,0,0,6.37l25.29,25.29a4.5,4.5,0,0,0,6.37,0L192.67,95l11.55,11.55a2.19,2.19,0,0,0,3.67-1l20.05-74.8A2.2,2.2,0,0,0,225.25,28.07Z"/><path d="M178,138v58a2,2,0,0,1-2,2H60a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h58V48H38A10,10,0,0,0,28,58V218a10,10,0,0,0,10,10H198a10,10,0,0,0,10-10V138Z"/></svg></span>
                      <p>{{material.link.title}}</p>
                    </a>
                    <a *ngIf="material.form" title="{{material.form.title}}" href="{{material.form.formUrl}}" target="_blank">
                      <span class="icon"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 256 256"><path d="M225.25,28.07l-74.81,20a2.19,2.19,0,0,0-1,3.67L161,63.34,90.48,133.86a4.5,4.5,0,0,0,0,6.37l25.29,25.29a4.5,4.5,0,0,0,6.37,0L192.67,95l11.55,11.55a2.19,2.19,0,0,0,3.67-1l20.05-74.8A2.2,2.2,0,0,0,225.25,28.07Z"/><path d="M178,138v58a2,2,0,0,1-2,2H60a2,2,0,0,1-2-2V80a2,2,0,0,1,2-2h58V48H38A10,10,0,0,0,28,58V218a10,10,0,0,0,10,10H198a10,10,0,0,0,10-10V138Z"/></svg></span>
                      <p>{{material.form.title}}</p>
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </section>
</div>